<html>

<head>
    <title>Group3-bike-lane</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script type="text/javascript" src="echarts.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
    <script src="leaflet.ajax.min.js"></script>
</head>

<body>
    <div style="width: 1200px; height: 800" id="leaflet"></div>

    <script>
        // initialize the map on the leaflet map div with a given center and zoom
        var map = new L.Map('leaflet', {
            center: new L.LatLng(22.339, 114.179),
            zoom: 12
        });

        // create existing bike lane tile layer bythunderforest
        var tileUrl = 'https://{s}.tile.thunderforest.com/cycle/{z}/{x}/{y}.png?apikey=8acedab11683401eb09f0f3c0b75c264',
            layer = new L.TileLayer(tileUrl, {
                attribution: 'Map © <a href="www.thunderforest.com">Thunderforest</a>, Data &copy; <a href="http://openstreetmap.org">OpenStreetMap contributors</a>, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',
                maxZoom: 18
            });

        // add the layer to the map
        map.addLayer(layer);

        //create icons
        var consIcon = new L.icon({
            iconUrl: 'construction.png',
            iconSize: [30, 30],
            iconAnchor: [15, 30],
            popupAnchor: [0, -30],
            //shadowUrl: 'my-icon-shadow.png',
            //shadowSize: [68, 95],
            //shadowAnchor: [22, 94]
        });
        
        var geojsonMun = new L.GeoJSON.AJAX("TsuenWan-TuenMun.geojson");
        geojsonMun.addTo(map);
        //add marker and bind a popup
        var markerMun = new L.marker([22.36023644579937, 114.11155700683594], {
            icon: consIcon
        })
        markerMun.addTo(map);
        markerMun.bindPopup("荃灣至屯門單車徑<br>日期：17.07.2014").openPopup();

        //San Mun Jai geojson layer
        var geojsonSan = new L.GeoJSON.AJAX("SanMunJai.geojson");
        geojsonSan.addTo(map);
        //add marker and bind a popup
        var markerSan = new L.marker([22.457449331564764, 114.2114531993866], {
            icon: consIcon
        })
        markerSan.addTo(map);
        markerSan.bindPopup("三門仔段<br>日期：18.08.2015").openPopup();

        var geojsonSheung = new L.GeoJSON.AJAX("TuenMun-SheungShui.geojson");
        geojsonSheung.addTo(map);

        var markerShueng = new L.marker([22.503240063271182, 114.12375569343567], {
            icon: consIcon
        })
        markerShueng.addTo(map);
        markerShueng.bindPopup("屯門至上水段（餘下工程）").openPopup();
    </script>
</body>

</html>
